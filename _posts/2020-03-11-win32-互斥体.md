title: win32-互斥体
date: 2020-3-10
categories: 
- win32
- 线程
tags: 
- 互斥体
---

# 互斥体
1. WaitForSingleObject
   - 等待函数，可是线程资源进入等待状态，直到一个特定的内核对象变为已通知状态为止。
   - hHandle 内核对象句柄，可以是线程也可是线程
   - dwMilliseconds 等待时间，单位是毫秒，INFINITE(-1)一直等待。

```c
DWORD WaitForSingleObject(
  HANDLE hHandle,
  DWORD  dwMilliseconds
);
```

1. WaitForMultipleObjects 

```c
DWORD WaitForMultipleObjects(
  DWORD        nCount,
  const HANDLE *lpHandles,
  BOOL         bWaitAll,
  DWORD        dwMilliseconds
);
```

## 特别说明
1. 内核对象中的每种对象都可以说是处于已通知或未通知的状态中
2. 这种状态的切换使用Microsoft为每个对象建立的一套规则来决定的
3. 当线程正在运行的时候，线程内核对象处于未通知状态
4. 当线程终止运行的时候，他变成已通知状态
5. 在内核中是一个BOOL值，运行是FALSE，结束时TRUE