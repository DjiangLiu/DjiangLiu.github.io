---
title: C结构体、联合体、枚举类型
date: 2020-2-11
categories: 
- C
tags: 
- 结构体
- 联合体
- 枚举类型
---

# 结构体
## 基本类型与构建类型
1. 基本类型/内建类型（char short int等）
2. 构建类型(结构体、联合体)

## 结构体定义
1. “结构”由若干成员组成。每一个成员可以是一个基本类型或构造类型

```c
//1
struct MyStruct
{
	int a;
	int b;
};

struct MyStruct2
{
	int a;
	int b;

}struct1, struct2;
//这种只能用str1和str2两个变量名。
struct 
{
	int a;
	int b;
}str1,str2 ;
//这种时常用的
typedef struct MyStruct3
{
	int a;
	int b;
}MyStruct3,*pMyStruct3;
```

2. sizeof(p2), sizeof(*p2), sizeof(MyStruct3)  指针的长度：4 结构体的长度：36 结构体的长度：36 p2++  就是移动结构体的长度（36）

```c
#include<stdio.h>
#include<string.h>
#include<malloc.h>

//定义结构体
//1

typedef struct _MyStruct3
{
	int id;
	int age;
	char name[20];
	char sex;
	float score;
}MyStruct3,*pMyStruct3;//pMyStruct3 == MyStruct3*


int main(void)
{
	MyStruct3 s2 = { 0 };
	pMyStruct3 p2 = &s2;
	printf("%s\n", p2->name);
	printf("%d\n%d\n%d\n", sizeof(p2), sizeof(*p2), sizeof(MyStruct3));
	MyStruct3* p3 = (MyStruct3*)malloc(sizeof(MyStruct3));
	if (p3 == NULL)
	{
		return -1;
	}
	p3->id = 20;
	strcpy_s(p3->name, 20, "test");
	printf("%d\n%s\n", p3->id, p3->name);
	free(p3);
	p3 == NULL;
	return 0;
}
```