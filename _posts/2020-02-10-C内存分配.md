---
title: C内存分配
date: 2020-2-10
categories: 
- C
tags: 
- 内存分配
---

# 内存分配与寻址

## 系统虚拟内存空间分布
  1. x86支持32位寻址，也就是2**32 = 4GB内存空间，高2G内核空间，
  2. 0x00000000-0x0000ffff 64KB NULL空间
  3. 0x0000ffff-0x7fff0000 进程空间
  4. 0x7fff0000-0x7fffffff 64KB非法区域
  5. 0x7fffffff-0xffffffff 2GB内核空间
  6. x86可以通过PAE技术，将寻址空间调整到64GB，36位寻址
  7. x64 windows用44位，linux用48位

## 程序内存分布
### 内存分类
1. 堆（heap）
2. 栈（stack）
3. 静态区
4. 代码区

    ```c
    .rdata 常量
    .data 数据
    ```

    ![内存分类](/images/cc/内存分类.PNG)