---
title: C++多态_动态绑定
date: 2020-2-15
categories: 
- C++
tags: 
- 多态
- 动态绑定
---

# 绑定
将函数调用与地址关联起来:`sz->func1();`。

# 前期绑定
# 动态绑定
1. 只有virtual函数是动态绑定的
2. 动态绑定又叫多态

```c
#include<stdio.h>

class Base
{
public:
	int x;
public:
	Base()
	{
		x = 100;
	}
	void func1()
	{
		printf("Base func1\n");
	}
	virtual void func2()
	{
		printf("Base func2\n");
	}
};

class Sub :public Base
{
public:
	int x;
public:
	Sub()
	{
		x = 200;
	}
	void func1()
	{
		printf("Sub func1\n");
	}
	virtual void func2()
	{
		printf("Sub func2\n");
	}
};

void Test(Base* pb)
{
	int x = pb->x;
	printf("%d\n", x); // 前期绑定，编译期绑定,值、普通的函数
	pb->func1();//运行期间绑定 动态绑定 晚绑定
	pb->func2();//
}

int main(void)
{
	Sub b;
	Test(&b);
}

100
Base func1
Sub func2

int main(void)
{
	Base b;
	Test(&b);
}

100
Base func1
Base func2
```