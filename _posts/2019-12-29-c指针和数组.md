---
title: C数组和指针
date: 2019-12-29
categories: 
- C
tags: 
- 数组和指针
- 指针
---

# 数组和指针
## 数组是一个常量指针

```c
int a[10] = {0};
int * const a;//a是常量指针
//第i个元素地址：a+i / &a[i];
//所以在定义指针的时候可以使用,指向数组的首地址
int* p1 = &a[0];
//或者
int* p2 = a;

//第i个元素的值
p1[i];
*(p1+i);

```

## 指针和数组可以互相通用
### 例子
```c
#include <stdio.h>

int main(void) 
{
	char* str = "hello,world";
	for (int i = 0; str[i]!='\0'; i++)
	{
		printf("%c\n", str[i]);
	}
	getchar();
	return 0;
}
```

### 动态数组
- 示例：
```c
#include <stdio.h>
#include <malloc.h>
#include <string.h>

int main(void) 
{
	int student_num = 0;
	int total = 0;
	printf("请输入学生个数：");
	scanf("%d", &student_num);

	int* p = (int*)malloc(student_num * sizeof(int));
	if (p==NULL)
	{
		printf("内存分配失败\n");
		return -1;
	}
	memset(p, 0, student_num * sizeof(int));

	for (int i = 0; i < student_num; i++)
	{
		printf("请输入第%d个学生的成绩：", i + 1);
        //两种写法
		//scanf("%d", &p[i]);
		scanf("%d", p + i);
	}

	for (int j = 0; j < student_num; j++)
	{
        //两种写法
		//total += p[j];
		total += *(p + j);
	}
	printf("总成绩为：%d\n", total);

    free(p);
	p == NULL;
	getchar();
	return 0;
}
```